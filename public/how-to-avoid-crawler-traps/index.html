<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta data-react-helmet="true" name="naver-site-verification" content="6c2d92eb9a60002b277f46c4a7920deba060d353"/><meta data-react-helmet="true" name="google-site-verification" content="mxLB5KQ1bIs-cghvNL_zf24agGCJrgwP071JAKBpcDs"/><meta data-react-helmet="true" name="twitter:creator" content="@사용자이름"/><meta data-react-helmet="true" name="twitter:site" content="@사용자이름"/><meta data-react-helmet="true" name="twitter:image"/><meta data-react-helmet="true" name="twitter:description" content="웹 크롤러, 창과 방패"/><meta data-react-helmet="true" name="twitter:title" content="How to avoid crawler traps"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" property="og:site_name" content="How to avoid crawler traps"/><meta data-react-helmet="true" property="og:url"/><meta data-react-helmet="true" property="og:image"/><meta data-react-helmet="true" property="og:description" content="웹 크롤러, 창과 방패"/><meta data-react-helmet="true" property="og:title" content="How to avoid crawler traps"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" http-equiv="Content-Type" content="text/html;charset=UTF-8"/><meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1.0"/><meta data-react-helmet="true" name="description" content="웹 크롤러, 창과 방패"/><meta name="theme-color" content="#a2466c"/><meta name="generator" content="Gatsby 4.9.3"/><style data-href="/styles.0109ae7f897db2fecdd6.css" data-identity="gatsby-global-css">code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#ccc;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;line-height:1.5;-o-tab-size:4;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}</style><link rel="icon" href="/favicon-32x32.png?v=4a9773549091c227cd2eb82ccd9c5e3a" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><title data-react-helmet="true">How to avoid crawler traps</title><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){if(void 0===e.target.dataset.mainImage)return;if(void 0===e.target.dataset.gatsbyImageSsr)return;const t=e.target;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="canonical" href="https://kyong-dev.github.io/how-to-avoid-crawler-traps/" data-baseprotocol="https:" data-basehost="kyong-dev.github.io"/><link rel="sitemap" type="application/xml" href="/sitemap/sitemap-index.xml"/><link as="script" rel="preload" href="/webpack-runtime-16e991fa76a446ae0f50.js"/><link as="script" rel="preload" href="/framework-67bb60c0d7940880f7b0.js"/><link as="script" rel="preload" href="/app-c735db375b272a65e9da.js"/><link as="script" rel="preload" href="/cb1608f2-32d380fcf099c8fc422a.js"/><link as="script" rel="preload" href="/d0dcf9c1039535d44ee74defc829dfbf62dac3c5-0ec59ae6ef85dc9673f3.js"/><link as="script" rel="preload" href="/component---src-templates-post-template-tsx-42fffb72b7a7fcfc0be4.js"/><link as="fetch" rel="preload" href="/page-data/how-to-avoid-crawler-traps/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion="css 13ku56z">.css-13ku56z{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:100%;}</style><main class="css-13ku56z e1strnqo0"><style data-emotion="css-global kxm5mf">@import url('https://fonts.googleapis.com/css2?family=Nanum+Myeongjo:wght@400;700;800&display=swap');*{padding:0;margin:0;box-sizing:border-box;font-family:'Nanum Myeongjo',serif;}html,body,#___gatsby{height:100%;}a,a:hover{color:inherit;-webkit-text-decoration:none;text-decoration:none;cursor:pointer;}</style><style data-emotion="css 16cz9yp">.css-16cz9yp{position:relative;width:100%;height:400px;}@media (max-width: 768px){.css-16cz9yp{height:300px;}}</style><div class="css-16cz9yp e1opi4mu1"><style data-emotion="css 1bjn9yo">.css-1bjn9yo{z-index:-1;width:100%;height:400px;object-fit:cover;-webkit-filter:brightness(0.25);filter:brightness(0.25);}@media (max-width: 768px){.css-1bjn9yo{height:300px;}}</style><div data-gatsby-image-wrapper="" style="position:absolute" class="gatsby-image-wrapper gatsby-image-wrapper-constrained css-1bjn9yo e1opi4mu0"><div style="max-width:848px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;477&#x27; width=&#x27;848&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><img aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear" decoding="async" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB/klEQVQoz32RTU8TQRjH+S6e9KAnb3gwQf0Axhvxbjz4miBqJDQmQqIciKTRUOjWbt+gFNru7Evb3dmX2dnZbrtsW1sahEAUjEpspYmHFoKxi7hyMPlnMnnm+T0v8x8wZPb/MlXe1nNlPV/GBVemyrtPA6dSsczqnjtROIlfji5G41FqgZ5P0PPx8JzELxOFOw3j/mlBxoCsAYEuAUvlMmDlcSj+LBC+P+W/92rm7suZlWzKUjkMPTCGLIFAkbmMljuugsV1SwkQNGRWHjQ2n258vJFXL/DqWyQ7kNFPOmPIWiqnI+E6TQ+OPErw2a2mU10lGzaew9p5mQzh8rBVHdSsM5Lhl/OODI5hDIGp8RKT9IWos6/9l65cnQjTvFioV4prDnGqpfD2Dr/zpbHXqu+1PnR+lmyCxYyhcH/HDgbejE5PX0ylz0UTN5NLscg7nk1XCGzW7dsCjNXWjnq9zz/2u93DZqWIxAxx4f6vskFqdmTMd+3h2GXf1PCT8ecTk0uLERMy1VrpVl6jGutH3d5me7/TPWh4YXfnWIQC6YTvxeSd0fFQcFYtZFLJiCmDqm2g7a367m6n/f3Tt6+tduu9bSAxa3hggCSmhAQLCabKFTXhj3mAKFzNkFb1AtFylpYrajnX5H99VjgMQV+/a3n9RxKDJAZDoPcTTuK/AAps4DufLJEAAAAAAElFTkSuQmCC" alt=""/><picture><source type="image/webp" data-srcset="/static/cb8787355cdf71ce694aa2ef0e05aa55/38719/web-crawler.webp 212w,/static/cb8787355cdf71ce694aa2ef0e05aa55/97dc3/web-crawler.webp 424w,/static/cb8787355cdf71ce694aa2ef0e05aa55/ea74c/web-crawler.webp 848w" sizes="(min-width: 848px) 848px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 848px) 848px, 100vw" decoding="async" loading="lazy" data-src="/static/cb8787355cdf71ce694aa2ef0e05aa55/87c5f/web-crawler.png" data-srcset="/static/cb8787355cdf71ce694aa2ef0e05aa55/34dd9/web-crawler.png 212w,/static/cb8787355cdf71ce694aa2ef0e05aa55/a5ff3/web-crawler.png 424w,/static/cb8787355cdf71ce694aa2ef0e05aa55/87c5f/web-crawler.png 848w" alt="thumbnail"/></picture><noscript><picture><source type="image/webp" srcSet="/static/cb8787355cdf71ce694aa2ef0e05aa55/38719/web-crawler.webp 212w,/static/cb8787355cdf71ce694aa2ef0e05aa55/97dc3/web-crawler.webp 424w,/static/cb8787355cdf71ce694aa2ef0e05aa55/ea74c/web-crawler.webp 848w" sizes="(min-width: 848px) 848px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 848px) 848px, 100vw" decoding="async" loading="lazy" src="/static/cb8787355cdf71ce694aa2ef0e05aa55/87c5f/web-crawler.png" srcSet="/static/cb8787355cdf71ce694aa2ef0e05aa55/34dd9/web-crawler.png 212w,/static/cb8787355cdf71ce694aa2ef0e05aa55/a5ff3/web-crawler.png 424w,/static/cb8787355cdf71ce694aa2ef0e05aa55/87c5f/web-crawler.png 848w" alt="thumbnail"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1)}}</script></div><style data-emotion="css m1156n">.css-m1156n{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:768px;height:100%;margin:0 auto;padding:60px 0;color:#ffffff;}@media (max-width: 768px){.css-m1156n{width:100%;padding:40px 20px;}}</style><div class="css-m1156n e1st1jau3"><style data-emotion="css gywgo7">.css-gywgo7{display:grid;place-items:center;width:40px;height:40px;border-radius:50%;background:#ffffff;color:#000000;font-size:22px;cursor:pointer;box-shadow:0 0 10px rgba(0, 0, 0, 0.3);}@media (max-width: 768px){.css-gywgo7{width:30px;height:30px;font-size:18px;}}</style><div class="css-gywgo7 e1st1jau2"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-left" class="svg-inline--fa fa-arrow-left " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M447.1 256C447.1 273.7 433.7 288 416 288H109.3l105.4 105.4c12.5 12.5 12.5 32.75 0 45.25C208.4 444.9 200.2 448 192 448s-16.38-3.125-22.62-9.375l-160-160c-12.5-12.5-12.5-32.75 0-45.25l160-160c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25L109.3 224H416C433.7 224 447.1 238.3 447.1 256z"></path></svg></div><style data-emotion="css gn4qtp">.css-gn4qtp{display:-webkit-box;overflow:hidden;overflow-wrap:break-word;margin-top:auto;text-overflow:ellipsis;white-space:normal;-webkit-line-clamp:2;-webkit-box-orient:vertical;font-size:45px;font-weight:800;}@media (max-width: 768px){.css-gn4qtp{font-size:30px;}}</style><div class="css-gn4qtp e1st1jau1">How to avoid crawler traps</div><style data-emotion="css 3gcnt2">.css-3gcnt2{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-top:10px;font-size:18px;font-weight:700;}@media (max-width: 768px){.css-3gcnt2{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;font-size:15px;font-weight:400;}}</style><div class="css-3gcnt2 e1st1jau0"><div>Python / Crawler / Selenium / Chrome</div><div>2022.05.06.</div></div></div></div><style data-emotion="css uo146q">.css-uo146q{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:768px;margin:0 auto;padding:100px 0;word-break:break-all;line-height:1.8;font-size:16px;font-weight:400;}.css-uo146q p{padding:3px 0;}.css-uo146q h1,.css-uo146q h2,.css-uo146q h3{font-weight:800;margin-bottom:30px;}.css-uo146q *+h1,.css-uo146q *+h2,.css-uo146q *+h3{margin-top:80px;}.css-uo146q hr+h1,.css-uo146q hr+h2,.css-uo146q hr+h3{margin-top:0;}.css-uo146q h1{font-size:30px;}.css-uo146q h2{font-size:25px;}.css-uo146q h3{font-size:20px;}.css-uo146q blockquote{margin:30px 0;padding:5px 15px;border-left:2px solid #000000;font-weight:800;}.css-uo146q ol,.css-uo146q ul{margin-left:20px;padding:30px 0;}.css-uo146q hr{border:1px solid #000000;margin:100px 0;}.css-uo146q a{color:#4263eb;-webkit-text-decoration:underline;text-decoration:underline;}.css-uo146q pre[class*='language-']{margin:30px 0;padding:15px;font-size:15px;}.css-uo146q pre[class*='language-']::-webkit-scrollbar-thumb{background:rgba(255, 255, 255, 0.5);border-radius:3px;}.css-uo146q code[class*='language-'],.css-uo146q pre[class*='language-']{tab-size:2;}@media (max-width: 768px){.css-uo146q{width:100%;padding:80px 20px;line-height:1.6;font-size:14px;}.css-uo146q h1{font-size:23px;}.css-uo146q h2{font-size:20px;}.css-uo146q h3{font-size:17px;}.css-uo146q img{width:100%;}.css-uo146q hr{margin:50px 0;}}</style><div class="css-uo146q e1ijh0y10"><h1>‘웹 크롤러, 창과 방패’</h1>
<p>Python으로 제작한 프로그램 중에 타오바오 사이트를 로그인해서 요청 헤더 쿠키값을 긁어와서 이용하는 부분이 있는데 몇주 전부터 크롬드라이버로 접속을 하게되면 슬라이더가 생겼었다. 원래 슬라이더를 셀레니움를 이용해 넘겨보려 했는데 어느부분을 클릭하려고 해도 unclickable이였다.. 구글링을 열심히 해보지만 해결책은 찾기 어려웠었다.</p>
<p>하지만 일반사용자 크롬으로 접속시엔 슬라이더가 생기지 않는 걸 보니 크롬드라이버 접속을 인식하는 걸까? 여러 웹사이트에 봇 유입 방지를 위해 여러 방책들이 있다.</p>
<p><br /><br /></p>
<ol>
<li>Javascript 스크립트를 심어 놓음.</li>
</ol>
<p>window.navigator.webdriver를 리턴하게 스크립트를 심어 놓으면 일반 크롬은 false로 응답하는 반면 크롬드라이버로 실행된 크롬에선 undefined로 리턴해서 봇 판별을 할 수 있다.</p>
<p>하지만 이 부분은 옵션에 <strong>‘–disable-blick-features=AutomationControlled’</strong> 를 추가하면 간단하게 해결 가능했다.</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver
options <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>ChromeOptions<span class="token punctuation">(</span><span class="token punctuation">)</span>
options<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">'--disable-blick-features=AutomationControlled'</span><span class="token punctuation">)</span></code></pre></div>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/2c0c54df38c571758f76f969a33c15c8/83e8e/window-navigator-webdriver.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 6.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAABYlAAAWJQFJUiTwAAAALklEQVQI12MwMjL9b2Js919Pz+i/jo7Gf21tTTDW0dH8r6qm/l9JWe2/sgrxGACgFR1E1PyHPgAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <picture>
          <source
              srcset="/static/2c0c54df38c571758f76f969a33c15c8/a59e9/window-navigator-webdriver.webp 192w,
/static/2c0c54df38c571758f76f969a33c15c8/0ca9f/window-navigator-webdriver.webp 384w,
/static/2c0c54df38c571758f76f969a33c15c8/dc9b9/window-navigator-webdriver.webp 768w,
/static/2c0c54df38c571758f76f969a33c15c8/e9eb0/window-navigator-webdriver.webp 1084w"
              sizes="(max-width: 768px) 100vw, 768px"
              type="image/webp"
            />
          <source
            srcset="/static/2c0c54df38c571758f76f969a33c15c8/3b721/window-navigator-webdriver.png 192w,
/static/2c0c54df38c571758f76f969a33c15c8/66595/window-navigator-webdriver.png 384w,
/static/2c0c54df38c571758f76f969a33c15c8/fe486/window-navigator-webdriver.png 768w,
/static/2c0c54df38c571758f76f969a33c15c8/83e8e/window-navigator-webdriver.png 1084w"
            sizes="(max-width: 768px) 100vw, 768px"
            type="image/png"
          />
          <img
            class="gatsby-resp-image-image"
            src="/static/2c0c54df38c571758f76f969a33c15c8/fe486/window-navigator-webdriver.png"
            alt="Window Navigator Webdriver"
            title="Window Navigator Webdriver"
            loading="lazy"
            decoding="async"
            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
          />
        </picture>
  </a>
    </span></p>
<p><br /><br />
2. clienthints, navigator.userAgentData 확인
User Agent도 마찬가지로 웹드라이버 옵션에 추가해서 손쉽게 조작이 가능하다.</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver
options <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>ChromeOptions<span class="token punctuation">(</span><span class="token punctuation">)</span>
options<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">'user-agent=Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.54 Safari/537.36'</span><span class="token punctuation">)</span></code></pre></div>
<p>이렇게 작성만 해주면 Mac OS의 크롬 101.0.4951.54 버전으로 접속을 한 것으로 조작할 수 있다.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/7e1113fa3deb5ef8dd5b628cffba39a8/cf75f/user-agent.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 46.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABbElEQVQoz32SSY7bMBAA/ZCMSG1cRJESJWvzjGZieAIkl/z/NxVYsg/KdiiQRIPV3WyefNNRD+9M1++M6zc+bj8YLldM3WObM+2w4Jozle/QdcS4BV31WN9hXCRtetK2Jww3pAqcnG8RytNMK8P8yjjO2GUhvyzk44T2DSFEqu5MeR7IlUYkKUJkD1JkInmROUlR3YWRpHBYHym1IysNQltkHciMo1SWojRIbfeYyJFpcUTmiNwgCsepDh1fMktZNbS3n7h5RV2vqH7YELnaKtkuyV32XLf9U5jppzBuQmU9YbjgmzPWt9S+JfhImpVHgTxW+Ifw3vJL4XBxxHczTZgw2m3CthsOEvEPjsK6RdpIePskTB/E+Ya9rGjrMMahdEW6Sfe2f2dLJjNEpkjKxxumVU8VZ2ycMXGkHt7olq+00zvj+knhOpKyRiq//Yi/ogOysJzq+5RFvpcvH21smfdzIveYTEvEf3hO+xe3HwibZoMLmgAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <picture>
          <source
              srcset="/static/7e1113fa3deb5ef8dd5b628cffba39a8/a59e9/user-agent.webp 192w,
/static/7e1113fa3deb5ef8dd5b628cffba39a8/0ca9f/user-agent.webp 384w,
/static/7e1113fa3deb5ef8dd5b628cffba39a8/dc9b9/user-agent.webp 768w,
/static/7e1113fa3deb5ef8dd5b628cffba39a8/23d9c/user-agent.webp 1078w"
              sizes="(max-width: 768px) 100vw, 768px"
              type="image/webp"
            />
          <source
            srcset="/static/7e1113fa3deb5ef8dd5b628cffba39a8/3b721/user-agent.png 192w,
/static/7e1113fa3deb5ef8dd5b628cffba39a8/66595/user-agent.png 384w,
/static/7e1113fa3deb5ef8dd5b628cffba39a8/fe486/user-agent.png 768w,
/static/7e1113fa3deb5ef8dd5b628cffba39a8/cf75f/user-agent.png 1078w"
            sizes="(max-width: 768px) 100vw, 768px"
            type="image/png"
          />
          <img
            class="gatsby-resp-image-image"
            src="/static/7e1113fa3deb5ef8dd5b628cffba39a8/fe486/user-agent.png"
            alt="Fake User Agent"
            title="Fake User Agent"
            loading="lazy"
            decoding="async"
            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
          />
        </picture>
  </a>
    </span></p>
<p><br /><br />
3. Chromedriver 탐지</p>
<p>최신 크롬드라이버는 이 방법으로 탐지가 힘들다곤 하지만 크롬드라이버를 항상 최신으로 유지해주긴 힘들다.
일반 IDE로는 수정이 불가능걸로 알고있고 나같은 경운 Ubuntu(Linux) Vim을 이용해 Chromedriver를 수정해 주었다. (nano로는 수정은 되지만 저장을 하면 chromedriver가 -11 error를 내면서 작동 안됨)</p>
<p>Chromedriver 내부에 call_function.js에서 이 부분을 수정해 줘야한다.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">var</span> key <span class="token operator">=</span> <span class="token string">'$cdc_asdjflasutopfhvcZLmcfl_'</span><span class="token punctuation">;</span></code></pre></div>
<p>stackoverflow에 검색한 내용중에 key 값을 ’/$[a-z]dc_/’ 정규식으로 필터링 한다고 하니 앞에 cdc부분을 전혀 다른 것으로 수정해주면 된다. 나 같은 경운</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">var</span> key <span class="token operator">=</span> <span class="token string">'$cat_asdjflasutopfhvcZLmcfl_'</span><span class="token punctuation">;</span></code></pre></div>
<p>으로 변경 해줬을 때 브라우저도 정상 작동하고 슬라이더가 사라졌다.</p>
<p>Taobao말고 다른 타사이트들도 이 방법으로 봇 유입을 막는 것을 종종 봤다. Coinpan (코인 커뮤니티) 사이트도 막아놨던 것으로 기억한다.</p>
<ul>
<li>Vim 사용법</li>
</ul>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token function">vim</span> chromedriver</code></pre></div>
<p>로 실행하면 다른 텍스트 에디터와 다르게 바로 수정이 가능하지 않고 단축키들을 사용해야 한다. 일단 <br />
(1) **‘/cdc’**를 타입해서 검색해준다. <br />
(2) <strong>‘R’</strong> 대문자 R을 입력하면 수정하면서 입력을 할 수 있는 모드로 변경된다 (텍스트 덮어씌우기) <br />
(3) <strong>‘cdc’</strong> 부분을 다른걸로 변경해준다. <br />
(3) <strong>‘:wp!’</strong> 이렇게 치고 엔터를 치면 저장하면서 vim을 종료할 수 있다.</p></div><style data-emotion="css hx9xpc">@media (max-width: 768px){.css-hx9xpc{padding:0 20px;}}</style><div class="css-hx9xpc e1gqsjds0"></div><style data-emotion="css 9w9jmx">.css-9w9jmx{display:grid;place-items:center;margin-top:auto;padding:50px 0;font-size:15px;text-align:center;line-height:1.5;}@media (max-width: 768px){.css-9w9jmx{font-size:13px;}}</style><footer class="css-9w9jmx e1oae0v80">Thank You for Visiting My Blog, Have a Good Day 😆<br/>© <!-- -->2022<!-- --> Developer Kyong, Powered By Gatsby.</footer></main></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/how-to-avoid-crawler-traps/";window.___webpackCompilationHash="6fbddf2999ce7fc54739";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-6ba20a87a73e25735eae.js"],"app":["/app-c735db375b272a65e9da.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-5d339bc72565d3e16c60.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-d4136eeb0ba62a725bb9.js"],"component---src-pages-info-tsx":["/component---src-pages-info-tsx-39126a29c04d5b097a84.js"],"component---src-templates-post-template-tsx":["/component---src-templates-post-template-tsx-42fffb72b7a7fcfc0be4.js"]};/*]]>*/</script><script src="/polyfill-6ba20a87a73e25735eae.js" nomodule=""></script><script src="/component---src-templates-post-template-tsx-42fffb72b7a7fcfc0be4.js" async=""></script><script src="/d0dcf9c1039535d44ee74defc829dfbf62dac3c5-0ec59ae6ef85dc9673f3.js" async=""></script><script src="/cb1608f2-32d380fcf099c8fc422a.js" async=""></script><script src="/app-c735db375b272a65e9da.js" async=""></script><script src="/framework-67bb60c0d7940880f7b0.js" async=""></script><script src="/webpack-runtime-16e991fa76a446ae0f50.js" async=""></script></body></html>